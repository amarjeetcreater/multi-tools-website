<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyword Density Checker - Multi-Tools</title>
    <meta name="description" content="Analyze keyword density in your content for better SEO. Free online keyword density checker.">
    <meta name="keywords" content="keyword density checker, seo analysis, keyword analysis">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/style.css">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
    crossorigin="anonymous"></script>
</head>
<body>
    <div id="header-placeholder"></div>

    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="tool-container">
                    <div class="text-center mb-4">
                        <h1><i class="fas fa-percentage"></i> Keyword Density Checker</h1>
                        <p class="lead">Analyze keyword density in your content for better SEO</p>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5><i class="fas fa-edit"></i> Content Input</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="contentText" class="form-label">Content:</label>
                                        <textarea class="form-control" id="contentText" rows="10" placeholder="Paste your content here..."></textarea>
                                        <div class="form-text">
                                            <span id="wordCount">0</span> words, <span id="charCount">0</span> characters
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="targetKeywords" class="form-label">Target Keywords:</label>
                                        <input type="text" class="form-control" id="targetKeywords" placeholder="Enter keywords separated by commas">
                                        <div class="form-text">Enter your main keywords to analyze their density</div>
                                    </div>
                                    
                                    <button class="btn btn-primary w-100" id="analyzeBtn">
                                        <i class="fas fa-search"></i> Analyze Keyword Density
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <h5><i class="fas fa-cogs"></i> Analysis Settings</h5>
                                </div>
                                <div class="card-body">
                                    <div class="mb-3">
                                        <label for="minWordLength" class="form-label">Minimum Word Length:</label>
                                        <input type="number" class="form-control" id="minWordLength" value="3" min="1" max="10">
                                    </div>
                                    
                                    <div class="mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="caseSensitive" checked>
                                            <label class="form-check-label" for="caseSensitive">
                                                Case sensitive analysis
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="excludeCommonWords" checked>
                                            <label class="form-check-label" for="excludeCommonWords">
                                                Exclude common words (the, and, or, etc.)
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="includePhrases" checked>
                                            <label class="form-check-label" for="includePhrases">
                                                Include phrase analysis
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="maxResults" class="form-label">Max Results:</label>
                                        <select class="form-select" id="maxResults">
                                            <option value="10">Top 10</option>
                                            <option value="20" selected>Top 20</option>
                                            <option value="50">Top 50</option>
                                            <option value="100">Top 100</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5><i class="fas fa-chart-bar"></i> Analysis Results</h5>
                                </div>
                                <div class="card-body">
                                    <div id="resultContainer" style="display: none;">
                                        <div class="row">
                                            <div class="col-md-6">
                                                <h6>Content Statistics:</h6>
                                                <div class="list-group">
                                                    <div class="list-group-item d-flex justify-content-between">
                                                        <span>Total Words:</span>
                                                        <span id="totalWords">0</span>
                                                    </div>
                                                    <div class="list-group-item d-flex justify-content-between">
                                                        <span>Unique Words:</span>
                                                        <span id="uniqueWords">0</span>
                                                    </div>
                                                    <div class="list-group-item d-flex justify-content-between">
                                                        <span>Characters:</span>
                                                        <span id="totalChars">0</span>
                                                    </div>
                                                    <div class="list-group-item d-flex justify-content-between">
                                                        <span>Sentences:</span>
                                                        <span id="totalSentences">0</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <h6>Target Keywords:</h6>
                                                <div id="keywordResults"></div>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-4">
                                            <h6>Most Frequent Words:</h6>
                                            <div class="table-responsive">
                                                <table class="table table-striped">
                                                    <thead>
                                                        <tr>
                                                            <th>Word</th>
                                                            <th>Count</th>
                                                            <th>Density (%)</th>
                                                            <th>Recommendation</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody id="wordFrequencyTable">
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        
                                        <div class="d-grid gap-2 d-md-flex mt-3">
                                            <button class="btn btn-primary" id="copyBtn">
                                                <i class="fas fa-copy"></i> Copy Results
                                            </button>
                                            <button class="btn btn-outline-secondary" id="downloadBtn">
                                                <i class="fas fa-download"></i> Download Report
                                            </button>
                                            <button class="btn btn-outline-info" id="optimizeBtn">
                                                <i class="fas fa-lightbulb"></i> Get Optimization Tips
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Ad Space -->
                    <div class="ad-space mt-4">
                        <div class="ad-placeholder">
                            <i class="fas fa-ad"></i>
                            <p>Advertisement Space</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer-placeholder"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Main JS -->
    <script src="../js/main.js"></script>
    
    <script>
        let analysisResults = null;

        document.addEventListener('DOMContentLoaded', function() {
            initializeKeywordDensityChecker();
        });

        function initializeKeywordDensityChecker() {
            const contentText = document.getElementById('contentText');
            const wordCount = document.getElementById('wordCount');
            const charCount = document.getElementById('charCount');
            const analyzeBtn = document.getElementById('analyzeBtn');

            contentText.addEventListener('input', function() {
                const text = this.value;
                const words = text.trim() ? text.split(/\s+/).length : 0;
                const chars = text.length;
                
                wordCount.textContent = words;
                charCount.textContent = chars;
            });

            analyzeBtn.addEventListener('click', analyzeKeywordDensity);
        }

        function analyzeKeywordDensity() {
            const content = document.getElementById('contentText').value.trim();
            const targetKeywords = document.getElementById('targetKeywords').value.trim();
            const minWordLength = parseInt(document.getElementById('minWordLength').value);
            const caseSensitive = document.getElementById('caseSensitive').checked;
            const excludeCommonWords = document.getElementById('excludeCommonWords').checked;
            const includePhrases = document.getElementById('includePhrases').checked;
            const maxResults = parseInt(document.getElementById('maxResults').value);

            if (!content) {
                MultiTools.showError('Please enter some content to analyze.');
                return;
            }

            // Common words to exclude
            const commonWords = ['the', 'and', 'or', 'but', 'in', 'on', 'at', 'to', 'for', 'of', 'with', 'by', 'is', 'are', 'was', 'were', 'be', 'been', 'have', 'has', 'had', 'do', 'does', 'did', 'will', 'would', 'could', 'should', 'may', 'might', 'can', 'this', 'that', 'these', 'those', 'a', 'an', 'as', 'so', 'if', 'then', 'else', 'when', 'where', 'why', 'how', 'all', 'any', 'both', 'each', 'few', 'more', 'most', 'other', 'some', 'such', 'no', 'nor', 'not', 'only', 'own', 'same', 'than', 'too', 'very', 'you', 'your', 'yours', 'yourself', 'yourselves', 'i', 'me', 'my', 'myself', 'we', 'our', 'ours', 'ourselves', 'he', 'him', 'his', 'himself', 'she', 'her', 'hers', 'herself', 'it', 'its', 'itself', 'they', 'them', 'their', 'theirs', 'themselves', 'what', 'which', 'who', 'whom', 'whose', 'this', 'that', 'these', 'those', 'am', 'is', 'are', 'was', 'were', 'be', 'been', 'being', 'have', 'has', 'had', 'having', 'do', 'does', 'did', 'doing', 'will', 'would', 'should', 'could', 'may', 'might', 'must', 'shall', 'can'];

            // Process content
            let processedContent = content;
            if (!caseSensitive) {
                processedContent = content.toLowerCase();
            }

            // Split into words
            const words = processedContent.split(/\s+/).filter(word => {
                const cleanWord = word.replace(/[^\w]/g, '');
                return cleanWord.length >= minWordLength;
            });

            // Count word frequency
            const wordCount = {};
            words.forEach(word => {
                const cleanWord = word.replace(/[^\w]/g, '').toLowerCase();
                if (cleanWord.length >= minWordLength) {
                    if (!excludeCommonWords || !commonWords.includes(cleanWord)) {
                        wordCount[cleanWord] = (wordCount[cleanWord] || 0) + 1;
                    }
                }
            });

            // Convert to array and sort
            const wordFrequency = Object.entries(wordCount)
                .map(([word, count]) => ({
                    word,
                    count,
                    density: (count / words.length * 100).toFixed(2)
                }))
                .sort((a, b) => b.count - a.count)
                .slice(0, maxResults);

            // Analyze target keywords
            const keywordAnalysis = [];
            if (targetKeywords) {
                const keywords = targetKeywords.split(',').map(k => k.trim()).filter(k => k);
                keywords.forEach(keyword => {
                    const regex = new RegExp(keyword, caseSensitive ? 'g' : 'gi');
                    const matches = content.match(regex) || [];
                    const count = matches.length;
                    const density = (count / words.length * 100).toFixed(2);
                    
                    keywordAnalysis.push({
                        keyword,
                        count,
                        density,
                        recommendation: getKeywordRecommendation(density)
                    });
                });
            }

            // Calculate statistics
            const uniqueWords = Object.keys(wordCount).length;
            const sentences = content.split(/[.!?]+/).filter(s => s.trim()).length;

            analysisResults = {
                wordFrequency,
                keywordAnalysis,
                statistics: {
                    totalWords: words.length,
                    uniqueWords,
                    totalChars: content.length,
                    totalSentences: sentences
                }
            };

            displayResults(analysisResults);
        }

        function getKeywordRecommendation(density) {
            const densityNum = parseFloat(density);
            if (densityNum < 0.5) {
                return '<span class="text-warning">Too low - consider adding more</span>';
            } else if (densityNum > 2.5) {
                return '<span class="text-danger">Too high - risk of keyword stuffing</span>';
            } else {
                return '<span class="text-success">Optimal density</span>';
            }
        }

        function displayResults(results) {
            const resultContainer = document.getElementById('resultContainer');
            const totalWords = document.getElementById('totalWords');
            const uniqueWords = document.getElementById('uniqueWords');
            const totalChars = document.getElementById('totalChars');
            const totalSentences = document.getElementById('totalSentences');
            const keywordResults = document.getElementById('keywordResults');
            const wordFrequencyTable = document.getElementById('wordFrequencyTable');
            const copyBtn = document.getElementById('copyBtn');
            const downloadBtn = document.getElementById('downloadBtn');
            const optimizeBtn = document.getElementById('optimizeBtn');

            // Update statistics
            totalWords.textContent = results.statistics.totalWords;
            uniqueWords.textContent = results.statistics.uniqueWords;
            totalChars.textContent = results.statistics.totalChars;
            totalSentences.textContent = results.statistics.totalSentences;

            // Display keyword analysis
            if (results.keywordAnalysis.length > 0) {
                let keywordHtml = '<div class="list-group">';
                results.keywordAnalysis.forEach(item => {
                    keywordHtml += `
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <span><strong>${item.keyword}</strong></span>
                            <span>${item.count} times (${item.density}%)</span>
                        </div>
                        <div class="list-group-item">
                            ${item.recommendation}
                        </div>
                    `;
                });
                keywordHtml += '</div>';
                keywordResults.innerHTML = keywordHtml;
            } else {
                keywordResults.innerHTML = '<p class="text-muted">No target keywords specified</p>';
            }

            // Display word frequency table
            wordFrequencyTable.innerHTML = '';
            results.wordFrequency.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.word}</td>
                    <td>${item.count}</td>
                    <td>${item.density}%</td>
                    <td>${getDensityRecommendation(item.density)}</td>
                `;
                wordFrequencyTable.appendChild(row);
            });

            resultContainer.style.display = 'block';

            copyBtn.onclick = () => {
                const report = generateReport(results);
                navigator.clipboard.writeText(report).then(() => {
                    MultiTools.showSuccess('Analysis results copied to clipboard!');
                });
            };

            downloadBtn.onclick = () => {
                const report = generateReport(results);
                const blob = new Blob([report], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'keyword-density-analysis.txt';
                link.click();
            };

            optimizeBtn.onclick = () => {
                showOptimizationTips(results);
            };

            resultContainer.scrollIntoView({ behavior: 'smooth' });
        }

        function getDensityRecommendation(density) {
            const densityNum = parseFloat(density);
            if (densityNum > 5) {
                return '<span class="text-danger">Very high</span>';
            } else if (densityNum > 2) {
                return '<span class="text-warning">High</span>';
            } else if (densityNum > 0.5) {
                return '<span class="text-success">Good</span>';
            } else {
                return '<span class="text-muted">Low</span>';
            }
        }

        function generateReport(results) {
            let report = 'KEYWORD DENSITY ANALYSIS REPORT\n';
            report += '================================\n\n';
            
            report += `Content Statistics:\n`;
            report += `- Total Words: ${results.statistics.totalWords}\n`;
            report += `- Unique Words: ${results.statistics.uniqueWords}\n`;
            report += `- Characters: ${results.statistics.totalChars}\n`;
            report += `- Sentences: ${results.statistics.totalSentences}\n\n`;
            
            if (results.keywordAnalysis.length > 0) {
                report += `Target Keywords Analysis:\n`;
                report += `------------------------\n`;
                results.keywordAnalysis.forEach(item => {
                    report += `${item.keyword}: ${item.count} times (${item.density}%)\n`;
                });
                report += '\n';
            }
            
            report += `Most Frequent Words:\n`;
            report += `-------------------\n`;
            results.wordFrequency.forEach(item => {
                report += `${item.word}: ${item.count} times (${item.density}%)\n`;
            });
            
            return report;
        }

        function showOptimizationTips(results) {
            let tips = 'SEO OPTIMIZATION TIPS\n\n';
            
            // Keyword density tips
            const lowDensityKeywords = results.keywordAnalysis.filter(k => parseFloat(k.density) < 0.5);
            const highDensityKeywords = results.keywordAnalysis.filter(k => parseFloat(k.density) > 2.5);
            
            if (lowDensityKeywords.length > 0) {
                tips += 'ðŸ” Keywords to add more of:\n';
                lowDensityKeywords.forEach(k => {
                    tips += `â€¢ "${k.keyword}" - currently ${k.density}%\n`;
                });
                tips += '\n';
            }
            
            if (highDensityKeywords.length > 0) {
                tips += 'âš ï¸ Keywords to reduce:\n';
                highDensityKeywords.forEach(k => {
                    tips += `â€¢ "${k.keyword}" - currently ${k.density}% (too high)\n`;
                });
                tips += '\n';
            }
            
            // Content length tips
            if (results.statistics.totalWords < 300) {
                tips += 'ðŸ“ Content is too short. Aim for at least 300 words for better SEO.\n\n';
            }
            
            // Keyword variety tips
            if (results.statistics.uniqueWords < 50) {
                tips += 'ðŸ“š Consider adding more variety to your vocabulary.\n\n';
            }
            
            tips += 'ðŸ’¡ General SEO Tips:\n';
            tips += 'â€¢ Use keywords naturally in headings (H1, H2, H3)\n';
            tips += 'â€¢ Include keywords in the first and last paragraphs\n';
            tips += 'â€¢ Use related keywords and synonyms\n';
            tips += 'â€¢ Ensure good readability and user experience\n';
            
            MultiTools.showInfo(tips);
        }
    </script>
</body>
</html> 