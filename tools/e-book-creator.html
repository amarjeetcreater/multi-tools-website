<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-book Creator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
    crossorigin="anonymous"></script>
</head>
<body>
    <div id="header-placeholder"></div>

    <main class="container my-4">
        <h1 class="text-center mb-4">E-book Creator</h1>
        <div class="ad-section">
            <!-- Ad Space -->
            <p>Advertisement</p>
        </div>
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">E-book Creator Functionality</h5>
                <p class="card-text">Create a simple e-book by entering your content.</p>
                <div class="mb-3">
                    <label for="ebookTitle" class="form-label">E-book Title:</label>
                    <input type="text" class="form-control" id="ebookTitle" placeholder="Enter e-book title">
                </div>
                <div class="mb-3">
                    <label for="ebookAuthor" class="form-label">Author:</label>
                    <input type="text" class="form-control" id="ebookAuthor" placeholder="Enter author name">
                </div>
                <div class="mb-3">
                    <label for="ebookContent" class="form-label">Content:</label>
                    <textarea class="form-control" id="ebookContent" rows="10" placeholder="Write your e-book content here..."></textarea>
                </div>
                <button class="btn btn-primary" id="generateEbookBtn">Generate E-book (TXT)</button>
                <div class="mt-4">
                    <h6>Preview:</h6>
                    <pre id="ebookPreview" class="alert alert-secondary"></pre>
                </div>
            </div>
        </div>
    </main>

    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/main.js"></script>
    <script>
        // JavaScript for E-book Creator tool
        document.addEventListener('DOMContentLoaded', function() {
            console.log('E-book Creator loaded.');

            const ebookTitleInput = document.getElementById('ebookTitle');
            const ebookAuthorInput = document.getElementById('ebookAuthor');
            const ebookContentInput = document.getElementById('ebookContent');
            const generateEbookBtn = document.getElementById('generateEbookBtn');
            const ebookPreview = document.getElementById('ebookPreview');

            function updatePreview() {
                const title = ebookTitleInput.value;
                const author = ebookAuthorInput.value;
                const content = ebookContentInput.value;
                ebookPreview.textContent = `Title: ${title}\nAuthor: ${author}\n\n${content}`;
            }

            ebookTitleInput.addEventListener('input', updatePreview);
            ebookAuthorInput.addEventListener('input', updatePreview);
            ebookContentInput.addEventListener('input', updatePreview);

            generateEbookBtn.addEventListener('click', function() {
                const title = ebookTitleInput.value || 'Untitled E-book';
                const author = ebookAuthorInput.value || 'Unknown Author';
                const content = ebookContentInput.value || 'No content provided.';

                const ebookText = `Title: ${title}\nAuthor: ${author}\n\n${content}`;
                const blob = new Blob([ebookText], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `${title.replace(/[^a-zA-Z0-9]/g, '_')}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                alert('E-book (TXT) generated and downloaded!');
            });

            updatePreview(); // Initial preview update
        });
    </script>
</body>
</html>