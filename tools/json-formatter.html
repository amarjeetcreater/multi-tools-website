<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Formatter - Multi-Tools Website</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="../css/style.css" rel="stylesheet">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX"
    crossorigin="anonymous"></script>
    <style>
        .json-input {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            min-height: 300px;
        }
        .json-output {
            font-family: 'Courier New', monospace;
            font-size: 14px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 0.375rem;
            padding: 1rem;
            min-height: 300px;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        .error-message {
            color: #dc3545;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 0.375rem;
            padding: 0.75rem;
            margin-top: 1rem;
        }
        .success-message {
            color: #155724;
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 0.375rem;
            padding: 0.75rem;
            margin-top: 1rem;
        }
        .stats-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .ad-space {
            margin: 2rem 0;
        }
        .ad-banner {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px dashed #dee2e6;
            border-radius: 0.5rem;
            padding: 2rem;
            text-align: center;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .ad-placeholder {
            color: #6c757d;
        }
        .ad-placeholder i {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        .ad-placeholder p {
            margin: 0.5rem 0;
            font-weight: 500;
        }
        .ad-placeholder small {
            color: #adb5bd;
        }
    </style>
</head>
<body>
    <div id="header"></div>

    <div class="container mt-4">
        <!-- JSON Formatter Top Ad -->
        <div class="row mb-4">
            <div class="col-12">
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                     data-ad-slot="YYYYYYYY"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="tool-header">
                    <h1><i class="fas fa-code"></i> JSON Formatter</h1>
                    <p>Format and validate JSON data with syntax highlighting and error detection</p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5><i class="fas fa-edit"></i> Input JSON</h5>
                                <textarea id="jsonInput" class="form-control json-input" placeholder="Paste your JSON data here..."></textarea>
                                <div class="mt-3">
                                    <button class="btn btn-primary" onclick="formatJSON()">
                                        <i class="fas fa-magic"></i> Format JSON
                                    </button>
                                    <button class="btn btn-success" onclick="minifyJSON()">
                                        <i class="fas fa-compress-alt"></i> Minify JSON
                                    </button>
                                    <button class="btn btn-secondary" onclick="validateJSON()">
                                        <i class="fas fa-check-circle"></i> Validate JSON
                                    </button>
                                    <button class="btn btn-outline-secondary" onclick="clearInput()">
                                        <i class="fas fa-trash"></i> Clear
                                    </button>
                                    <button class="btn btn-outline-info" onclick="loadSample()">
                                        <i class="fas fa-file-code"></i> Load Sample
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h5><i class="fas fa-eye"></i> Formatted Output</h5>
                                <div id="jsonOutput" class="json-output"></div>
                                <div id="message"></div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="col-12">
                                <div class="stats-card">
                                    <h6><i class="fas fa-chart-bar"></i> JSON Statistics</h6>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <small>Size:</small><br>
                                            <span id="jsonSize">0 bytes</span>
                                        </div>
                                        <div class="col-md-3">
                                            <small>Objects:</small><br>
                                            <span id="objectCount">0</span>
                                        </div>
                                        <div class="col-md-3">
                                            <small>Arrays:</small><br>
                                            <span id="arrayCount">0</span>
                                        </div>
                                        <div class="col-md-3">
                                            <small>Properties:</small><br>
                                            <span id="propertyCount">0</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- JSON Formatter Middle Ad -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="ad-space">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
                         data-ad-slot="YYYYYYYY"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-lightbulb"></i> Features</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check text-success"></i> Format JSON with proper indentation</li>
                                    <li><i class="fas fa-check text-success"></i> Validate JSON syntax</li>
                                    <li><i class="fas fa-check text-success"></i> Syntax error highlighting</li>
                                    <li><i class="fas fa-check text-success"></i> JSON statistics and analysis</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li><i class="fas fa-check text-success"></i> Copy formatted JSON to clipboard</li>
                                    <li><i class="fas fa-check text-success"></i> Download formatted JSON</li>
                                    <li><i class="fas fa-check text-success"></i> Sample JSON templates</li>
                                    <li><i class="fas fa-check text-success"></i> Real-time validation</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/main.js"></script>
    <script>
        // JSON Formatter functionality
        function formatJSON() {
            const input = document.getElementById('jsonInput').value.trim();
            const output = document.getElementById('jsonOutput');
            const message = document.getElementById('message');
            
            if (!input) {
                MultiTools.showError('Please enter JSON data to format.');
                return;
            }

            try {
                const parsed = JSON.parse(input);
                const formatted = JSON.stringify(parsed, null, 2);
                output.textContent = formatted;
                message.innerHTML = '<div class="success-message"><i class="fas fa-check-circle"></i> JSON formatted successfully!</div>';
                updateStats(input);
            } catch (error) {
                output.textContent = '';
                message.innerHTML = `<div class="error-message"><i class="fas fa-exclamation-triangle"></i> Invalid JSON: ${error.message}</div>`;
                updateStats('');
            }
        }

        function validateJSON() {
            const input = document.getElementById('jsonInput').value.trim();
            const message = document.getElementById('message');
            
            if (!input) {
                MultiTools.showError('Please enter JSON data to validate.');
                return;
            }

            try {
                JSON.parse(input);
                message.innerHTML = '<div class="success-message"><i class="fas fa-check-circle"></i> JSON is valid!</div>';
                updateStats(input);
            } catch (error) {
                message.innerHTML = `<div class="error-message"><i class="fas fa-exclamation-triangle"></i> Invalid JSON: ${error.message}</div>`;
                updateStats('');
            }
        }

        function updateStats(jsonString) {
            if (!jsonString) {
                document.getElementById('jsonSize').textContent = '0 bytes';
                document.getElementById('objectCount').textContent = '0';
                document.getElementById('arrayCount').textContent = '0';
                document.getElementById('propertyCount').textContent = '0';
                return;
            }

            try {
                const parsed = JSON.parse(jsonString);
                const size = new Blob([jsonString]).size;
                document.getElementById('jsonSize').textContent = MultiTools.formatFileSize(size);
                
                const stats = analyzeJSON(parsed);
                document.getElementById('objectCount').textContent = stats.objects;
                document.getElementById('arrayCount').textContent = stats.arrays;
                document.getElementById('propertyCount').textContent = stats.properties;
            } catch (error) {
                document.getElementById('jsonSize').textContent = '0 bytes';
                document.getElementById('objectCount').textContent = '0';
                document.getElementById('arrayCount').textContent = '0';
                document.getElementById('propertyCount').textContent = '0';
            }
        }

        function analyzeJSON(obj, stats = { objects: 0, arrays: 0, properties: 0 }) {
            if (Array.isArray(obj)) {
                stats.arrays++;
                obj.forEach(item => analyzeJSON(item, stats));
            } else if (obj !== null && typeof obj === 'object') {
                stats.objects++;
                stats.properties += Object.keys(obj).length;
                Object.values(obj).forEach(value => analyzeJSON(value, stats));
            }
            return stats;
        }

        function clearInput() {
            document.getElementById('jsonInput').value = '';
            document.getElementById('jsonOutput').textContent = '';
            document.getElementById('message').innerHTML = '';
            updateStats('');
        }

        function minifyJSON() {
            const input = document.getElementById('jsonInput').value.trim();
            const output = document.getElementById('jsonOutput');
            const message = document.getElementById('message');
            
            if (!input) {
                MultiTools.showError('Please enter JSON data to minify.');
                return;
            }

            try {
                const parsed = JSON.parse(input);
                const minified = JSON.stringify(parsed);
                output.textContent = minified;
                message.innerHTML = '<div class="success-message"><i class="fas fa-compress-alt"></i> JSON minified successfully!</div>';
                updateStats(input);
            } catch (error) {
                output.textContent = '';
                message.innerHTML = `<div class="error-message"><i class="fas fa-exclamation-triangle"></i> Invalid JSON: ${error.message}</div>`;
                updateStats('');
            }
        }

        function loadSample() {
            const sampleJSON = {
                "name": "John Doe",
                "age": 30,
                "email": "john.doe@example.com",
                "address": {
                    "street": "123 Main St",
                    "city": "New York",
                    "state": "NY",
                    "zipCode": "10001"
                },
                "phoneNumbers": [
                    {
                        "type": "home",
                        "number": "212-555-1234"
                    },
                    {
                        "type": "work",
                        "number": "212-555-5678"
                    }
                ],
                "hobbies": ["reading", "swimming", "photography"],
                "active": true,
                "lastLogin": "2023-12-01T10:30:00Z"
            };
            
            document.getElementById('jsonInput').value = JSON.stringify(sampleJSON);
            formatJSON();
        }

        // Auto-format on input change
        document.getElementById('jsonInput').addEventListener('input', function() {
            updateStats(this.value);
        });
    </script>
</body>
</html>